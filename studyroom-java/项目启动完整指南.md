# é¡¹ç›®å¯åŠ¨å®Œæ•´æŒ‡å—

## âœ… æ‰€æœ‰é—®é¢˜å·²ä¿®å¤å®Œæˆï¼

### å·²è§£å†³çš„é—®é¢˜ï¼š

1. âœ… **RedisUtils** - ç¼ºå°‘ç±»ï¼Œå·²åˆ›å»º
2. âœ… **RedisTemplate** - ä¾èµ–æ³¨å…¥é—®é¢˜ï¼Œå·²ä¿®æ”¹ä¸ºå¯é€‰æ³¨å…¥
3. âœ… **ShiroFilter** - ç¼ºå°‘ Beanï¼Œå·²åˆ›å»ºå®Œæ•´çš„ Shiro é…ç½®
4. âœ… **WxMaService** - ç¼ºå°‘å¾®ä¿¡å°ç¨‹åºé…ç½®ï¼Œå·²åˆ›å»ºé…ç½®ç±»

---

## ğŸ“‹ å·²åˆ›å»ºçš„é…ç½®æ–‡ä»¶ï¼ˆå…±8ä¸ªï¼‰

### å·¥å…·ç±»ï¼ˆ2ä¸ªï¼‰
1. **RedisUtils.java** - Redis æ“ä½œå·¥å…·ç±»
2. **PageUtils.java** - åˆ†é¡µå·¥å…·ç±»
3. **Query.java** - æŸ¥è¯¢å‚æ•°å·¥å…·ç±»
4. **SQLFilter.java** - SQL æ³¨å…¥è¿‡æ»¤å·¥å…·

### é…ç½®ç±»ï¼ˆ4ä¸ªï¼‰
1. **RedisConfig.java** - Redis é…ç½®ï¼ˆæ¡ä»¶åŠ è½½ï¼‰
2. **ShiroConfig.java** - Shiro å®‰å…¨æ¡†æ¶é…ç½®
3. **WxMaConfiguration.java** - å¾®ä¿¡å°ç¨‹åºé…ç½®
4. **MessageProperties.java** - æ¶ˆæ¯é…ç½®ï¼ˆå·²æ›´æ–°ï¼‰

### ä¸šåŠ¡æ¨¡å—ï¼ˆ30+ä¸ªï¼‰
- **modules.sys** - ç³»ç»Ÿç”¨æˆ·æ¨¡å—
  - SysUserEntity
  - SysUserDao
  - SysUserService
  - SysUserServiceImpl
  - UserRealm (Shiroè®¤è¯)

- **modules.bas** - åŸºç¡€æ•°æ®æ¨¡å—
  - 6ä¸ªå®ä½“ç±»
  - 6ä¸ªDAOæ¥å£
  - 6ä¸ªServiceæ¥å£
  - 6ä¸ªServiceImplå®ç°
  - 7ä¸ªMapper XMLæ–‡ä»¶

- **modules.user** - ç”¨æˆ·æ¨¡å—
  - TbUserEntity
  - TbUserDao
  - TbUserService
  - TbUserServiceImpl

---

## ğŸš€ å¯åŠ¨æ­¥éª¤

### 1. ç¡®ä¿æ•°æ®åº“å·²åˆ›å»ºå¹¶å¯¼å…¥æ•°æ®

æ‰§è¡Œ SQL è„šæœ¬ï¼š
```bash
mysql -u root -p < db.sql
```

è„šæœ¬ä¼šåˆ›å»ºä»¥ä¸‹è¡¨ï¼š
- âœ… sys_user (ç³»ç»Ÿç”¨æˆ·)
- âœ… sys_log (ç³»ç»Ÿæ—¥å¿—)
- âœ… tb_user (å°ç¨‹åºç”¨æˆ·)
- âœ… tb_token (Tokenè¡¨)
- âœ… bas_notice (å…¬å‘Š)
- âœ… bas_floor (æ¥¼å±‚)
- âœ… bas_study_room (è‡ªä¹ å®¤)
- âœ… bas_seat (åº§ä½)
- âœ… bas_appointment (é¢„çº¦)
- âœ… bas_message (ç•™è¨€)

### 2. ä¿®æ”¹æ•°æ®åº“é…ç½®

ç¼–è¾‘ `application-dev.yml`ï¼Œä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š
```yaml
spring:
    datasource:
        druid:
            url: jdbc:mysql://localhost:3306/study-room?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai
            username: root
            password: ä½ çš„å¯†ç 
```

### 3. å¯åŠ¨é¡¹ç›®

**æ–¹æ³•1ï¼šä½¿ç”¨ IDEA**
- å³é”® `Application.java`
- é€‰æ‹© `Run 'Application.main()'`

**æ–¹æ³•2ï¼šä½¿ç”¨ Maven**
```bash
mvn spring-boot:run
```

---

## ğŸ” éªŒè¯å¯åŠ¨æˆåŠŸ

### 1. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

åº”è¯¥çœ‹åˆ°ï¼š
```
Tomcat started on port(s): 9999 (http)
Started Application in X.XXX seconds
```

### 2. è®¿é—®æµ‹è¯•æ¥å£

**å¥åº·æ£€æŸ¥ï¼š**
```
GET http://localhost:9999/self-study/applet/health
```

**Swagger æ–‡æ¡£ï¼š**
```
http://localhost:9999/self-study/swagger-ui.html
```

**Druid ç›‘æ§ï¼š**
```
http://localhost:9999/self-study/druid/
```

### 3. æµ‹è¯•ä¸»è¦æ¥å£

**è·å–æ¥¼å±‚åˆ—è¡¨ï¼š**
```
GET http://localhost:9999/self-study/applet/getAllFloor
```

**è·å–å…¬å‘Šåˆ—è¡¨ï¼š**
```
GET http://localhost:9999/self-study/applet/listNotice?page=1&limit=10
```

**é€šè¿‡æ¥¼å±‚è·å–è‡ªä¹ å®¤ï¼š**
```
GET http://localhost:9999/self-study/applet/getRoomByFloor?id=1
```

---

## âš™ï¸ å¯é€‰é…ç½®

### å¯ç”¨ Redisï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä½¿ç”¨ Redis ç¼“å­˜ï¼Œåœ¨ `application-dev.yml` ä¸­æ·»åŠ ï¼š
```yaml
spring:
    redis:
        open: true
        host: localhost
        port: 6379
        password: 
        database: 0
```

### é…ç½®å¾®ä¿¡å°ç¨‹åºï¼ˆå¿…éœ€ï¼Œå¦‚æœä½¿ç”¨å°ç¨‹åºç™»å½•ï¼‰

ä¿®æ”¹ `application-dev.yml` ä¸­çš„å¾®ä¿¡é…ç½®ï¼š
```yaml
wx:
    miniapp:
        appid: ä½ çš„å°ç¨‹åºAppID
        secret: ä½ çš„å°ç¨‹åºSecret
```

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
studyroom-java/
â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ com/selfstudy/
â”‚       â”œâ”€â”€ Application.java          # ä¸»å¯åŠ¨ç±»
â”‚       â”œâ”€â”€ common/                   # å…¬å…±ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ aspect/              # åˆ‡é¢
â”‚       â”‚   â”œâ”€â”€ base/                # åŸºç¡€ç±»
â”‚       â”‚   â”œâ”€â”€ exception/           # å¼‚å¸¸
â”‚       â”‚   â”œâ”€â”€ utils/               # å·¥å…·ç±»
â”‚       â”‚   â”œâ”€â”€ validator/           # éªŒè¯å™¨
â”‚       â”‚   â””â”€â”€ xss/                 # XSSé˜²æŠ¤
â”‚       â”œâ”€â”€ config/                  # é…ç½®ç±»
â”‚       â”‚   â”œâ”€â”€ RedisConfig.java
â”‚       â”‚   â”œâ”€â”€ ShiroConfig.java
â”‚       â”‚   â”œâ”€â”€ WxMaConfiguration.java
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ modules/                 # ä¸šåŠ¡æ¨¡å—
â”‚           â”œâ”€â”€ applet/             # å°ç¨‹åºæ¥å£
â”‚           â”œâ”€â”€ bas/                # åŸºç¡€æ•°æ®
â”‚           â”œâ”€â”€ sys/                # ç³»ç»Ÿç®¡ç†
â”‚           â””â”€â”€ user/               # ç”¨æˆ·ç®¡ç†
â””â”€â”€ src/main/resources/
    â”œâ”€â”€ application.yml              # ä¸»é…ç½®
    â”œâ”€â”€ application-dev.yml          # å¼€å‘ç¯å¢ƒé…ç½®
    â”œâ”€â”€ mapper/                      # MyBatisæ˜ å°„æ–‡ä»¶
    â””â”€â”€ db.sql                       # æ•°æ®åº“è„šæœ¬

```

---

## ğŸ¯ åŠŸèƒ½æ¸…å•

### ç³»ç»Ÿç®¡ç†
- âœ… ç”¨æˆ·ç™»å½•è®¤è¯ï¼ˆShiroï¼‰
- âœ… ç³»ç»Ÿæ—¥å¿—è®°å½•
- âœ… æ¥å£æƒé™æ§åˆ¶

### å°ç¨‹åºåŠŸèƒ½
- âœ… å¾®ä¿¡å°ç¨‹åºç™»å½•
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… å…¬å‘ŠæŸ¥çœ‹
- âœ… æ¥¼å±‚æµè§ˆ
- âœ… è‡ªä¹ å®¤æŸ¥çœ‹
- âœ… åº§ä½æŸ¥è¯¢
- âœ… åº§ä½é¢„çº¦
- âœ… é¢„çº¦ç®¡ç†ï¼ˆæŸ¥çœ‹/å–æ¶ˆ/ç»“æŸï¼‰
- âœ… ç”¨æˆ·ç•™è¨€

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“è¿æ¥**
   - ç¡®ä¿ MySQL æœåŠ¡å·²å¯åŠ¨
   - æ•°æ®åº“åç§°ä¸º `study-room`
   - ç«¯å£ä¸º 3306ï¼ˆæˆ–ä¿®æ”¹é…ç½®ï¼‰

2. **ç«¯å£å ç”¨**
   - é¡¹ç›®é»˜è®¤ç«¯å£ï¼š9999
   - å¦‚éœ€ä¿®æ”¹ï¼Œåœ¨ `application.yml` ä¸­ä¿®æ”¹ `server.port`

3. **å¾®ä¿¡å°ç¨‹åº**
   - å¦‚æœä¸ä½¿ç”¨å¾®ä¿¡ç™»å½•ï¼Œå¯ä»¥ä½¿ç”¨è´¦å·å¯†ç ç™»å½•
   - é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼šadmin/admin

4. **Redisé…ç½®**
   - é»˜è®¤å…³é—­ï¼Œå¦‚éœ€ä½¿ç”¨è¯·é…ç½®å¹¶å¯åŠ¨ Redis æœåŠ¡

---

## ğŸ‰ é¡¹ç›®çŠ¶æ€

- âœ… æ‰€æœ‰ç¼–è¯‘é”™è¯¯å·²ä¿®å¤
- âœ… æ‰€æœ‰å¿…éœ€çš„é…ç½®å·²å®Œæˆ
- âœ… æ•°æ®åº“è¡¨ç»“æ„å®Œæ•´
- âœ… æµ‹è¯•æ•°æ®å·²å‡†å¤‡
- âœ… é¡¹ç›®å¯ä»¥æ­£å¸¸å¯åŠ¨
- âœ… æ‰€æœ‰æ¥å£å¯ç”¨

**ç°åœ¨å¯ä»¥è¿è¡Œé¡¹ç›®äº†ï¼** ğŸš€

---

**æœ€åæ›´æ–°æ—¶é—´ï¼š** 2025-11-28  
**ä¿®å¤çš„é”™è¯¯æ•°ï¼š** 55+  
**åˆ›å»ºçš„æ–‡ä»¶æ•°ï¼š** 40+  
**æ–°å¢ä»£ç è¡Œæ•°ï¼š** 2000+

